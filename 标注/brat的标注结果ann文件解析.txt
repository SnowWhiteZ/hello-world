
注释文件（.ann）
注释存储在带有.ann 后缀的文件中。以下讨论可能包含在这些文件中的各种注释类型。

一般注释结构
所有注释都遵循相同的基本结构：每行包含一个注释，每个注释都有一个首先出现在该行上的ID，通过单个TAB字符与注释的其余部分分开。结构的其余部分因注释类型而异。

以下示出了实体（T1），事件触发器（T2），事件（E1） 和关系（R1）的注释的示例。

T1	组织0 4	索尼
T2	MERGE-ORG 14 27	合资企业
T3	组织33 41	爱立信
E1	MERGE-ORG：T2 Org1：T1 Org2：T3
T4	国家75 81	瑞典
R1	原点Arg1：T3 Arg2：T4
下面给出这些注释的详细描述。

文本绑定注释
文本绑定注释是与实体和事件注释相关的重要注释类别。文本绑定注释标识特定的文本范围并为其指定类型。

T1	组织0 4	索尼
T2	MERGE-ORG 14 27	合资企业
所有文本绑定注释都遵循相同的结构。与所有注释一样，ID首先出现，并使用TAB字符从行的其余部分分隔。主要注释以SPACE分隔的三元组（类型，起始偏移，结束偏移）给出。start-offset是文本中带注释的跨度的第一个字符的索引（“.txt”文件），即它前面的文档中的字符数。结束偏移量是带注释的跨度之后的第一个字符的索引。因此，末尾偏移位置中的字符不包括在带注释的跨度中。作为参考，包含由注释跨越的文本，由TAB字符分隔。

从v1.3开始，brat还支持 不连续的文本绑定注释，其中注释涉及多个连续的字符跨度。这些注释的间距表示是单跨案例的直接扩展。例如，“北美和南美”的一个可能的注释将表示如下：

T1	位置0 5; 16 23	北美
T2	位置10 23	南美洲
形成不连续注释的（起始 - 偏移，结束 - 偏移）对由分号分隔，并且这些跨度的文本由单个空格字符连接以形成注释的参考文本。

注释ID约定
所有注释ID都由一个标识注释类型和数字的大写字符组成。初始ID字符与注释类型相关，如下所示：

T：文本绑定注释
R：关系
E：事件
A：属性
M：修改（属性的别名，用于向后兼容）
N：归一化[v1.3中新增]
＃：注意
此外，在特殊情况下，星号（“*”）可用作ID的占位符。

实体注释
每个实体注释具有唯一ID，并且由类型（例如，人或组织）和包含实体提及的字符范围（表示为“起始端”偏移对）来定义。

T1	组织0 4	索尼
T3	组织33 41	爱立信
T3	国家75 81	瑞典
每行包含一个文本绑定注释， 用于标识文本中提到的实体。

事件注释
每个事件注释都有一个唯一的ID，由类型（例如MERGE-ORG），事件触发器（声明事件的文本）和参数定义。

T2	MERGE-ORG 14 27	合资企业
E1	MERGE-ORG：T2 Org1：T1 Org2：T3
事件触发器，标记指示每个事件的单词或单词的注释是文本绑定注释， 并且它们的格式与实体的格式相同。（触发器的ID占用与实体ID相同的空间，并且这些ID不得重叠。）

对于所有注释，事件ID首先出现，由TAB字符分隔。事件触发器指定为TYPE：ID，并通过ID标识事件类型及其触发器。按照惯例，事件类型在触发器注释和事件注释中都指定。事件触发器由SPACE与事件参数分开。事件参数是一组SPACE分隔的ROLE：ID对，其中ROLE是特定于事件和任务的参数角色之一（例如，主题，原因，站点），ID标识填充该角色的实体或事件。请注意，多个事件可以共享相同的触发器，并且应该首先指定事件触发器，但事件参数可以按任何顺序出现。

关系注释
二元关系具有唯一的ID，并由其类型（例如Origin，Part-of）及其参数定义。

R1	原点Arg1：T3 Arg2：T4
格式类似于应用于事件的格式，但注释不标识表达关系的特定文本（“触发器”）：ID由TAB字符分隔，关系类型和参数由SPACE分隔。

关系参数通常简单地标识为Arg1和Arg2，但系统可以配置为在支持表示中使用任何标签（例如Anaphor 和Antecedent）。

等价关系
系统还支持等效关系的特殊语法。等价关系是对称的和传递关系，其定义注释集在某种意义上是等价的（例如，指代相同的现实世界实体）。这种关系可以以紧凑的方式表示为等效注释的ID的SPACE分隔列表。

T1	组织0 43	国际商业机器公司
T2	组织45 48	IBM
T3	组织52 60	大蓝色
*	Equiv T1 T2 T3
为了与现有的支持格式向后兼容，brat还支持等价关系注释的特殊“空”ID值“ * ”。

属性和修改注释
属性注释是二进制或多值“标志”，用于指定其他注释的其他方面。属性具有唯一ID，并通过引用属性标记的注释的ID和属性值来定义。

A1	否定E1
A2	信心E2 L1
对于其他注释，ID由空格分隔TAB和其他字段。

上例中的二进制属性（如A1）只需指定属性名称和标记注释的ID：值为true表示二进制属性。缺少二进制属性注释被解释为具有值false的属性。

多值属性还指定由SPACE分隔的属性值。多值属性的值是完全可配置的。

为了与现有的支持格式向后兼容，brat还识别属性的ID前缀“ M ”。

规范化注释
从v1.3开始支持规范化注释。每个规范化注释都具有唯一ID，并通过引用规范化附加到的注释的ID以及RID:EID标识外部资源（RID）和该资源（EID）内的条目的对来定义。另外，每个规范化注释具有类型Reference（当前没有定义该类型的其他值）以及所引用的条目的人类可读字符串值。

以下示例显示附加到文本绑定注释“T1”（未显示）的规范化注释，并将其与维基百科ID“534366”（“Barack Obama”）的维基百科条目相关联。

N1	参考文献T1维基百科：534366	巴拉克奥巴马
（请注意，EID诸如“Wikipedia”或“GO” 之类的值与相关外部资源的关联不会在对峙中表示，而是由tools.conf配置文件控制 。）

对于文本绑定注释，ID和文本由TACE字符和SPACE的其他字段（此处为“Reference”，“T1”和“Wikipedia：534366”）分隔。

注意注释
注释注释提供了一种将自由格式文本与文档或特定注释相关联的方法。注释行以数字（或“哈希”）符号＃开头。

＃1	注释器注释T1	这个注释是可疑的
带有“ ＃ ”的注释以＃开头，后跟TAB字符附加到特定注释。对于这些注释，第二个TAB分隔字段包含注释类型和注释附加到的注释的ID，第三个TAB分隔字段包含注释的文本。

可以自由分配音符类型，并且可以将任意数量的音符附加到单个注释。（但是，目前只能从brat UI编辑一个AnnotatorNotes类型的音符。）

http://brat.nlplab.org/standoff.html


